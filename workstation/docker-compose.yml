# Iteration 1: HAPI FHIR only
# Later iterations will add Neo4j and MCP server
services:
  hapi-fhir:
    image: hapiproject/hapi:latest
    ports:
      - "8080:8080"
    environment:
      - hapi.fhir.server_address=http://localhost:8080/fhir
      - hapi.fhir.default_encoding=json
      - hapi.fhir.fhir_version=R4
      - hapi.fhir.allow_multiple_delete=true
      - hapi.fhir.tester.home.name=MedGemma FHIR Store
      - hapi.fhir.tester.home.server_address=http://localhost:8080/fhir
      - hapi.fhir.tester.home.refuse_to_fetch_third_party_urls=false
      - hapi.fhir.tester.home.fhir_version=R4
    restart: unless-stopped
